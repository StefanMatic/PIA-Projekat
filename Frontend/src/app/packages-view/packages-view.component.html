<div class="row my-2">
  <div class="col-md-12 text-center">
    <hr>
    <h3>All packages:</h3>
    <hr>
  </div>
</div>
<div class="row my-2" *ngIf="role === '1'">
  <div class="col-md-12 text-center">
    <h6>
      Please choose one of the packages that fit your needs the best and if you want, feel free to make them your own!
    </h6>
    <br>
    <h6>Before submiting please check your bill on the end of the page!</h6>
  </div>
</div>
<div class="row my-3 text-center">
  <div class="col-md-4 my-2 custom-control custom-radio" *ngFor="let package of allPackages.Packages; let i=index">
    <input *ngIf="role === '1'" (click)="makeCheck()" [(ngModel)]="pick" type="radio" id="{{package.Title}}"
      name="package" value="{{i}}" class="custom-control-input">
    <label class="custom-control-label" for="{{package.Title}}">
      <div class="card col-md-12 custom-control custom-radio">

        <div class="card-header text-center">
          {{package.Title}}
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">
            <h6 class="be-inline">Content:</h6>
            <ul>
              <li *ngFor="let con of package.Content">{{con}}</li>
            </ul>
          </li>

          <li class="list-group-item">
            <h6 class="be-inline">Video promotions:</h6>
            <p class="be-inline"> {{package.VideoPromotion}}</p>
          </li>

          <li class="list-group-item">
            <h6 class="be-inline">Number of lessons:</h6>
            <p class="be-inline"> {{package.NoLessons}}</p>
          </li>

          <li class="list-group-item">
            <h6 class="be-inline">Number of workshops:</h6>
            <p class="be-inline"> {{package.NoWorkchops}}</p>
          </li>

          <li class="list-group-item">
            <h6 class="be-inline">Number of presentations:</h6>
            <p class="be-inline"> {{package.NoPresentation}}</p>
          </li>

          <li class="list-group-item">
            <h6 class="be-inline">Price:</h6>
            <p class="be-inline"> {{package.Price}}</p>
          </li>

          <li class="list-group-item">
            <h6 class="be-inline">Maximum number of companies:</h6>
            <p class="be-inline"> {{package.MaxCompanies}}</p>
          </li>

        </ul>

        <div class="card-footer" *ngIf="role === '2'">
          <button class="btn btn-warning" (click)="editPackage(i)">EDIT</button>
        </div>

      </div>
    </label>
  </div>
</div>

<div class="row my-3" *ngIf="role === '2'">
  <div class="col-md-12 text-center">
    <button class="btn btn-warning btn-large" (click)="makeNewPackage()">
      <h5>Make new package</h5>
    </button>
  </div>
</div>

<div class="row my-2">
  <div class="col-md-12 text-center">
    <hr>
    <h3>Additional offers:</h3>
    <hr>
  </div>
</div>

<div class="row my-2">
  <div class="col-md-6 mx-auto">
    <ul class="list-group list-group-flush">
      <li class="list-group-item" *ngFor="let add of allPackages.Additional; let i=index">
        <div class="row">
          <div class="col-md-6">
            {{add.Title}}
          </div>
          <div class="col-md-3 text-right">
            {{add.Price}}
          </div>
          <div class="col-md-3" *ngIf="role==='1'">
            <button class="btn btn-warning w-100" (click)="addAdditional(i)">SELECT</button>
          </div>
        </div>
      </li>
    </ul>
  </div>
</div>

<div class="row my-3" *ngIf="role === '2'">
  <div class="col-md-12 text-center">
    <button class="btn btn-warning btn-large" (click)="editAdditional()">
      <h5>Edit additional options</h5>
    </button>
  </div>
</div>

<div class="row my-3" *ngIf="role === '1'">
  <div class="col-md-12 text-center">
    <hr>
    <h3>Bill:</h3>
    <hr>
  </div>

  <div class="col-md-6 mx-auto">
    <div class="row">
      <div class="col-md-12 my-2">
        <h6>Package:</h6>
        {{chosenPackge}}
      </div>
      <div class="col-md-12 my-2">
        <h6>Additional:</h6>
        <ul>
          <li *ngFor="let ad of chosenAdditional">
            {{ad}}
          </li>
        </ul>
      </div>
      <div class="col-md-12 text-right">
        <hr>
        <h6>Total price:</h6>
        {{check}}
      </div>
    </div>
  </div>
</div>

<div class="row my-3" *ngIf="(role === '1')&&(chosenPackge !== '')">
  <div class="col-md-6 text-center mx-auto">
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#exampleModalCenter">
      SUBMIT
    </button>
  </div>
</div>


<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Your bill:</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-12 my-2">
            <h6>Package:</h6>
            {{chosenPackge}}
          </div>
          <div class="col-md-12 my-2">
            <h6>Additional:</h6>
            <ul>
              <li *ngFor="let ad of chosenAdditional">
                {{ad}}
              </li>
            </ul>
            <p *ngIf="chosenAdditional.length === 0">none</p>
          </div>
          <div class="col-md-12 text-right">
            <hr>
            <h6>Total price:</h6>
            {{check}}
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancle</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" (click)="submitApplication()">OK</button>
      </div>
    </div>
  </div>
</div>
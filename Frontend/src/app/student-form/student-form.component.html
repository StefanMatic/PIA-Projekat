<form [formGroup]="studentForm" (ngSubmit)="onSubmit()">
  <div formGroupName="accountInfo">
    <h3 class="mb-2">Account info:</h3>

    <div class="form-group">
      <label for="">Username:</label>
      <input [ngClass]="studentForm.get('accountInfo.username').valid ? '' : 'is-invalid'" formControlName="username"
        name="username" type="text" class="form-control rounded-5">
    </div>
    <div class="row">
      <div class="form-group col-md-6">
        <label for="">Password:</label>
        <input [ngClass]="studentForm.get('accountInfo.password').valid ? '' : 'is-invalid'" formControlName="password"
          name="password" type="password" class="form-control rounded-5">
        <small id="passwordHelpBlock" class="form-text text-muted">
          Your password must be 8-12 characters long, contain min 1 capital letter, min 3 small letters, min 1 number
          and min 1 special character (#*.!?$).
        </small>
      </div>
      <div class="form-group col-md-6">
        <label for="">Repeat password:</label>
        <input [ngClass]="studentForm.get('accountInfo.confirmPassword').valid ? '' : 'is-invalid'"
          formControlName="confirmPassword" name="confirmPassword" type="password" class="form-control rounded-5">
      </div>
    </div>
  </div>

  <hr>

  <div formGroupName="personalInfo">
    <h3 class="mb-2">Personal info:</h3>

    <div class="form-group">
      <label for="">Name:</label>
      <input [ngClass]="studentForm.get('personalInfo.name').valid ? '' : 'is-invalid'" formControlName="name"
        name="name" type="text" class="form-control rounded-5">
    </div>
    <div class="form-group">
      <label for="">Lastname:</label>
      <input [ngClass]="studentForm.get('personalInfo.lastname').valid ? '' : 'is-invalid'" formControlName="lastname"
        name="lastname" type="text" class="form-control rounded-5">
    </div>
    <div class="form-group">
      <label for="">Number:</label>
      <input [ngClass]="studentForm.get('personalInfo.number').valid ? '' : 'is-invalid'" formControlName="number"
        name="number" type="text" class="form-control rounded-5">
    </div>
    <div class="form-group">
      <label for="">Email:</label>
      <input [ngClass]="studentForm.get('personalInfo.email').valid ? '' : 'is-invalid'" formControlName="email"
        name="email" type="email" class="form-control rounded-5">
    </div>
    <div class="form-control">
      <input formControlName='graduated' name="dipl" type="checkbox">
      <label class="form-check-label">
        Graduated
      </label>
    </div>
    <div class="mt-3">
      <small id="passwordHelpBlock1" class="form-text text-muted">
        Required to update photo
      </small>
      <button class="btn btn-warning" type="button" (click)="filePicker.click()">Pick Image</button>
      <input type="file" #filePicker (change)="onImagePicked($event)">

      <div *ngIf="imagePreview !=='' && imagePreview && studentForm.get('personalInfo.image').valid"
        class="img-fluid image-preview mt-2">
        <img [src]="imagePreview" [alt]="studentForm.value.accountInfo.username">
        <p *ngIf="imagePreview !=='' && imagePreview && !studentForm.get('personalInfo.image').valid">
          Wrong format
        </p>

      </div>
    </div>
  </div>
  <button class="btn-primary btn mt-3" type="submit" [disabled]="!studentForm.valid">Register</button>
</form>